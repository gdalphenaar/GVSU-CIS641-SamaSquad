
<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Theme Made By www.w3schools.com - No Copyright -->
  <title>mongodb update</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="/GVSU-CIS641-SamaSquad/static/style.css">
  <link rel="icon" type="image" href="/GVSU-CIS641-SamaSquad/static/favicon.ico">
</head>
<body>

<header>
<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <div class="navbar-brand">SAMASQUAD</div>
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav navbar-right">
        <li><a href="/GVSU-CIS641-SamaSquad/">HOME</a></li>
        <li><a href="/GVSU-CIS641-SamaSquad/project-info/">INFO</a></li>
        <li><a href="/GVSU-CIS641-SamaSquad/project-updates/">UPDATES</a></li>
      </ul>
    </div>
  </div>
</nav>
</header>


  <div class="container-fluid bg-3">
    <div class="text-center">mongodb update</div>
    <br>
    <p>after tinkering around with things a bit more, I decided to publish the data from the bme280 sensor as a single json file rather than as separate temperature and humidity readings.</p>
<p>this is somewhat advantageous for two main reasons:</p>
<ul>
<li>
<p>it lets me publish on only one topic, rather than needing two topics (temperature and humidity) per sensor - I haven't gotten around to it quite yet, but this should make adding additional sensors a bit easier</p>
</li>
<li>
<p>it keeps the data in json format for easy insertion into a mongodb database, where it can be done in one insert, rather than requiring either two rows in sqlite or multiple pre-operations to get the query ready</p>
</li>
</ul>
<p>I was initially considering using a lightweight sqlite database for data storage here, but I think mongodb might be a slightly better option, and upon further consideration, the "fast and loose" nature of mongodb might work better with streamed data like from a sensor, as the schemaless design is resilient to data missingness or corruption.</p>
<p>here we can see the streamed messages from the bme280 via the esp8266 as they are received:</p>
<p><img alt="dashboard-desktop" src="/GVSU-CIS641-SamaSquad/static/images/published-json.png" /></p>
<p>and here we can see the records in mongodb:</p>
<p><img alt="dashboard-mobile" src="/GVSU-CIS641-SamaSquad/static/images/in-mongodb.png" /></p>
  </div>


<footer class="container-fluid bg-4 text-center">
  <p>samasquad - gvsu - cis 641 - fall 2022</a></p>
</footer>

</body>
</html>